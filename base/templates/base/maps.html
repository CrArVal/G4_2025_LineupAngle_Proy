<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mapas de Valorant</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    .card-img-top {
      object-fit: contain;
      max-height: 150px;
    }
  </style>
</head>
<body class="bg-light">
  <div class="container mt-4">
    <h2 class="mb-4 text-center">Mapas de Valorant</h2>
    <div class="row row-cols-1 row-cols-md-2 g-4">
      {% for map in maps %}
      <div class="col">
        <div class="card h-100 d-flex flex-column shadow-sm">
          <div class="card-body d-flex flex-column">
            <!-- Imagen principal reemplazada por Splash -->
            {% if map.splash %}
              <li class="list-group-item">
                
                <img src="{{ map.splash }}" alt="Splash {{ map.displayName }}" class="img-fluid mb-3">
              </li>
            {% endif %}

            <!-- Nombre del mapa -->
            <h5 class="card-title">{{ map.displayName }}</h5>

            <!-- Contenido desplegable -->
            <div class="collapse mt-2" id="map-{{ map.uuid }}">
              <ul class="list-group list-group-flush mb-3">
                <li class="list-group-item"><b>UUID:</b> {{ map.uuid }}</li>
                <li class="list-group-item"><b>Descripción táctica:</b> {{ map.tacticalDescription|default:"N/A" }}</li>
                <li class="list-group-item"><b>Narrativa:</b> {{ map.narrativeDescription|default:"N/A" }}</li>
                <li class="list-group-item"><b>Coordenadas:</b> {{ map.coordinates|default:"N/A" }}</li>
                <li class="list-group-item"><b>Asset Path:</b> {{ map.assetPath }}</li>
                <li class="list-group-item"><b>Map URL:</b> {{ map.mapUrl }}</li>

                <!-- Íconos adicionales -->
                {% if map.listViewIcon %}
                  <li class="list-group-item">
                    <b>List View Icon:</b><br>
                    <img src="{{ map.listViewIcon }}" alt="ListView {{ map.displayName }}" class="img-fluid" style="max-height:60px;">
                  </li>
                {% endif %}
                {% if map.listViewIconTall %}
                  <li class="list-group-item">
                    <b>List View Tall:</b><br>
                    <img src="{{ map.listViewIconTall }}" alt="ListViewTall {{ map.displayName }}" class="img-fluid" style="max-height:60px;">
                  </li>
                {% endif %}

                {% if map.stylizedBackgroundImage %}
                  <li class="list-group-item">
                    <b>Stylized Background:</b><br>
                    <img src="{{ map.stylizedBackgroundImage }}" alt="Stylized {{ map.displayName }}" class="img-fluid">
                  </li>
                {% endif %}
                {% if map.premierBackgroundImage %}
                  <li class="list-group-item">
                    <b>Premier Background:</b><br>
                    <img src="{{ map.premierBackgroundImage }}" alt="Premier {{ map.displayName }}" class="img-fluid">
                  </li>
                {% endif %}

                <!-- Multipliers -->
                <li class="list-group-item"><b>xMultiplier:</b> {{ map.xMultiplier }}</li>
                <li class="list-group-item"><b>yMultiplier:</b> {{ map.yMultiplier }}</li>
                <li class="list-group-item"><b>xScalarToAdd:</b> {{ map.xScalarToAdd }}</li>
                <li class="list-group-item"><b>yScalarToAdd:</b> {{ map.yScalarToAdd }}</li>
              </ul>

              <!-- Callouts -->
              {% if map.callouts %}
              <h6>Callouts</h6>
              <div class="table-responsive">
                <table class="table table-bordered table-sm">
                  <thead class="table-dark">
                    <tr>
                      <th>Nombre Región</th>
                      <th>Super Región</th>
                      <th>Nombre Super Región</th>
                      <th>Ubicación X</th>
                      <th>Ubicación Y</th>
                      <th>Ubicación Z</th>
                      <th>Scale3D</th>
                      <th>Rotación</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for callout in map.callouts %}
                    <tr>
                      <td>{{ callout.regionName }}</td>
                      <td>{{ callout.superRegion }}</td>
                      <td>{{ callout.superRegionName }}</td>
                      <td>{{ callout.location.x|default:"N/A" }}</td>
                      <td>{{ callout.location.y|default:"N/A" }}</td>
                      <td>{{ callout.location.z|default:"N/A" }}</td>
                      <td>
                        {% if callout.scale3D %}
                          x: {{ callout.scale3D.x }}, y: {{ callout.scale3D.y }}, z: {{ callout.scale3D.z }}
                        {% else %}
                          N/A
                        {% endif %}
                      </td>
                      <td>
                        {% if callout.rotation %}
                          pitch: {{ callout.rotation.pitch }}, yaw: {{ callout.rotation.yaw }}, roll: {{ callout.rotation.roll }}
                        {% else %}
                          N/A
                        {% endif %}
                      </td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
              {% endif %}
            </div>
          </div>

          <!-- Botón al final -->
          <div class="card-footer bg-transparent mt-auto">
            <button class="btn btn-primary w-100" type="button" data-bs-toggle="collapse" data-bs-target="#map-{{ map.uuid }}" aria-expanded="false" aria-controls="map-{{ map.uuid }}">
              Ver más
            </button>
          </div>

        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</body>
</html>
